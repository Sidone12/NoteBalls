import{_ as V}from"./AddEditNote.vue_vue_type_script_setup_true_lang-d5xKo4JZ.js";import{d as p,u as k,a as C,o as w,b as D,c as R,e as c,f as d,g as e,h as m,i as _,j as x,r as E,k as b,l as y,m as v,t as f,n as g,w as $,R as M,p as B,q as h,F as N,s as I}from"./index-Bimcwh2I.js";const L={class:"modal is-active p-3"},Y={class:"modal-card-foot is-justify-content-flex-end"},A={class:"buttons"},F=p({__name:"ModalDeleteNotes",props:{modelValue:{type:Boolean},noteId:{}},emits:["update:modelValue"],setup(u,{emit:o}){const s=k(),i=o,n=()=>{i("update:modelValue",!1)},a=C("modalCardRef");w(a,()=>n());const t=l=>{l.key==="Escape"&&n()};return D(()=>{document.addEventListener("keydown",t)}),R(()=>{document.removeEventListener("keydown",t)}),(l,r)=>(d(),c("div",L,[r[3]||(r[3]=e("div",{class:"modal-background"},null,-1)),e("div",{class:"modal-card",ref_key:"modalCardRef",ref:a},[e("header",{class:"modal-card-head"},[r[1]||(r[1]=e("p",{class:"modal-card-title"},"Delete Note?",-1)),e("button",{onClick:n,class:"delete","aria-label":"close"})]),r[2]||(r[2]=e("section",{class:"modal-card-body"},[e("p",null,"Are you sure you want to delete this note?")],-1)),e("footer",Y,[e("div",A,[e("button",{onClick:n,class:"button is-success"},"Cancel"),e("button",{onClick:r[0]||(r[0]=Q=>{m(s).removeNote(l.noteId)}),class:"button is-danger"},"Delete")])])],512)]))}}),T={class:"card mb-4"},U={class:"card-content"},j={class:"content"},H={class:"columns is-mobile has-text-grey-light mt-2"},S={class:"column"},q={class:"column has-text-right"},z={class:"card-footer"},K=p({__name:"Note",props:{note:{}},setup(u){const o=u,s=_(()=>{const a=new Date(parseInt(o.note.date));return x(a,"DD MMM YYYY, HH:mm").value}),i=_(()=>{let a=o.note.content.length,t=a>1?"characters":"character";return`${a}: ${t}`}),n=E({deleteNote:!1});return(a,t)=>(d(),c("div",T,[e("div",U,[e("div",j,[v(f(a.note.content)+" ",1),e("div",H,[e("small",S,f(s.value),1),e("small",q,f(i.value),1)])])]),e("footer",z,[g(m(M),{class:"card-footer-item",to:`/editNote/${a.note.id}`},{default:$(()=>[...t[2]||(t[2]=[v("Edit",-1)])]),_:1},8,["to"]),e("button",{onClick:t[0]||(t[0]=l=>n.deleteNote=!0),class:"card-footer-item"},"Delete")]),n.deleteNote?(d(),b(F,{key:0,modelValue:n.deleteNote,"onUpdate:modelValue":t[1]||(t[1]=l=>n.deleteNote=l),noteId:a.note.id},null,8,["modelValue","noteId"])):y("",!0)]))}});function O(u,o=200){B(u,s=>{s.length===o&&alert(`Note content has reached ${o} characters!`)})}const W={class:"notes"},G=["disabled"],J={key:0,class:"progress is-small is-success",max:"100"},P={key:0,class:"is-size-4 has-text-centered py-6"},ee=p({__name:"ViewNotes",setup(u){const o=k(),s=h(""),i=h(null);O(s,100);const n=()=>{o.addNote(s.value),s.value="",i.value?.focusTextarea()};return(a,t)=>(d(),c("div",W,[g(V,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),ref_key:"addEditNoteRef",ref:i,placeholder:"Add a new note"},{buttons:$(()=>[e("button",{disabled:!s.value.trim(),onClick:n,class:"button is-link has-background-success"}," Add New Note ",8,G)]),_:1},8,["modelValue"]),m(o).loading?(d(),c(N,{key:1},[(d(!0),c(N,null,I(m(o).notes,l=>(d(),b(K,{key:l.id,note:l},null,8,["note"]))),128)),m(o).notes.length?y("",!0):(d(),c("div",P,"No notes available"))],64)):(d(),c("progress",J))]))}});export{ee as default};
